angular.module("ServicePetitions", []).factory("Petition", ["$http", "$q", function (u, l) { var t = { PetitionServer: function (t, e, n) { var r = l.defer(), o = window.location.origin; "BPM2" === window.location.pathname.split("/")[1] && (o += "/BPM2"); var i = o + t; if ("" === e) return t = "/" == t.substr(0, 1) ? t : "/" + t, u(a = { url: i = o + t, method: "POST", data: n }).then(function (t) { r.resolve(t.data) }, function (t) { r.reject(t) }), r.promise; if (t = "/" == t.substr(0, 1) ? t : "/" + t, 0 == e && (e = !1, i = o + t), null == e && null == n && (e = !0, i = t), e) u.get(i).then(function (t) { r.resolve(t.data) }, function (t) { r.reject(t) }); else if (null == e) { var a = { url: i, method: "POST", data: n, headers: { "Content-Type": void 0 }, transformRequest: window.angular.identity }; u(a).then(function (t) { r.resolve(t.data) }, function (t) { r.reject(t) }) } else { u(a = { url: i, method: "POST", data: n }).then(function (t) { r.resolve(t.data) }, function (t) { r.reject(t) }) } return r.promise } }; return t }]);